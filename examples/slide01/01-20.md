---
title: "Aula 01 - Slide 20: AR(1) e assinatura na ACF"
output: html_document
---

## Objetivo
Exibir uma serie AR(1) e a ACF com decaimento aproximado geometrico.

## Conexao com o PDF
Slide 20, arquivo de saida `figures/01-20.png` (concatena `01-20a.png` e `01-20b.png`).


``` r
source("https://raw.githubusercontent.com/eogasawara/series-temporais/main/code/utils.R")
set.seed(20)
```


``` r
T <- 250
phi <- 0.8
x <- as.numeric(arima.sim(model = list(ar = phi), n = T))

# (a) Serie
p_series <- forecast::autoplot(ts(x)) +
  ggplot2::labs(
    title = "Serie AR(1)",
    x = "t",
    y = expression(X[t])
  )

har_ggsave_px(
  file = har_slide_file(1, 20, "a"),
  plot = p_series,
  width_px = TSED_WIDTH,
  height_px = TSED_HEIGHT
)

# (b) ACF em base R
file_acf <- har_slide_file(1, 20, "b")
png(file_acf, width = TSED_WIDTH, height = TSED_HEIGHT, res = 150)
acf(
  x,
  lag.max = 40,
  main = "ACF amostral do AR(1)",
  xlab = "defasagem (h)",
  ylab = "autocorrelacao"
)
grid()
dev.off()
```

```
## png 
##   2
```

``` r
har_concat_png(
  out_file = har_slide_file(1, 20),
  files = c(
    har_slide_file(1, 20, "a"),
    har_slide_file(1, 20, "b")
  )
)
```
