---
title: "Aula 02 - Slide 05: Sazonalidade"
output: html_document
---

## Objetivo
Ilustrar uma serie com padrao periodico (sazonalidade) de periodo 12.

## Conexao com o PDF
Slide 05 do PDF `02-Estrutura-Temporal-em-Series-Temporais.pdf`, arquivo de saida `slides/02-05.png`.

## Descricao do codigo
Cria um componente sazonal com seno e cosseno, adiciona ruido e plota a serie resultante.

```{r setup, message=FALSE, warning=FALSE}
# Didatico: roteiro em 3 passos
# 1) Carregar dependencias/rotinas auxiliares.
# 2) Preparar dados e parametros do exemplo.
# 3) Gerar a figura/resultado esperado.
source("https://raw.githubusercontent.com/eogasawara/series-temporais/main/code/utils.R")
set.seed(205)
```

```{r gerar-figura}
# Didatico: roteiro em 3 passos
# 1) Carregar dependencias/rotinas auxiliares.
# 2) Preparar dados e parametros do exemplo.
# 3) Gerar a figura/resultado esperado.
# Parametros da serie sazonal
n <- 120
t <- 1:n
s <- 12

season <- 5 * sin(2 * pi * t / s) + 2 * cos(2 * pi * t / s)
x <- 100 + season + rnorm(n, 0, 1.0)
x_ts <- ts(x, frequency = s)

p <- forecast::autoplot(x_ts) +
  ggplot2::labs(x = NULL, y = NULL, title = "Sazonalidade: padrao periodico (s = 12)")

out <- har_slide_file("02", "05")
har_ggsave_px(out, p)
```

## Referencia
Hyndman, R.J., Athanasopoulos, G. (2021). Forecasting: Principles and Practice (3rd ed.). OTexts.
