---
title: "Aula 05 - Slide 06"
output: html_document
---

## Objetivo
Reproduzir a figura/resultado do slide 06 da Aula 05.

## Descricao
Este documento explica o passo a passo do codigo para gerar a figura/resultado associado ao slide.

## Conexao com o PDF
Slide 06 do PDF correspondente da Aula 05.

## Referencia
Hyndman, R.J., Athanasopoulos, G. (2021). Forecasting: Principles and Practice (3rd ed.). OTexts.

```{r codigo, message=FALSE, warning=FALSE}
# Didatico: roteiro em 3 passos
# 1) Carregar dependencias/rotinas auxiliares.
# 2) Preparar dados e parametros do exemplo.
# 3) Gerar a figura/resultado esperado.
# Aula 05 — Slide 06
# ACF e PACF em Séries Sazonais
# Este script gera a(s) figura(s) em PNG na pasta slides/ e também cria um .Rmd documentado.

source("slides/utils.R")

set.seed(5)

# Série sazonal simples (m=12) com ruído moderado
n <- 12 * 10
t <- 1:n
x <- 1.5*sin(2*pi*t/12) + rnorm(n, sd=0.6)
x_ts <- ts(x, frequency = 12)

out_png <- har_slide_file("05", "06")

# ACF/PACF em base R (duas janelas no mesmo PNG)
png(filename = out_png,
    width = TSED_WIDTH, height = 2*TSED_HEIGHT, res = TSED_DPI)

par(mfrow = c(2, 1), mar = c(4, 4, 2, 1))
acf(x_ts, lag.max = 48, main = "ACF: picos em múltiplos de s=12")
abline(v = seq(12, 48, by=12), lty=3)
pacf(x_ts, lag.max = 48, main = "PACF: picos em múltiplos de s=12")
abline(v = seq(12, 48, by=12), lty=3)

dev.off()
message("PNG gerado em: ", out_png)
```
