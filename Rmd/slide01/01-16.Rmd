---
title: "Aula 01 - Slide 16: Diferenciacao para estacionarizar"
output: html_document
---

## Objetivo
Comparar a serie nao estacionaria com sua primeira diferenca.

## Conexao com o PDF
Slide 16, arquivo de saida `figures/01-16.png` (concatena `01-16a.png` e `01-16b.png`).

```{r setup, message=FALSE, warning=FALSE}
source("code/utils.R")
set.seed(16)
```

```{r gerar-figuras}
T <- 250

# Serie nao estacionaria (passeio aleatorio)
x <- cumsum(rnorm(T))
dx <- diff(x)

p1 <- forecast::autoplot(ts(x)) +
  ggplot2::labs(
    title = "Antes: passeio aleatorio (nao estacionario)",
    x = "t",
    y = expression(X[t])
  )

p2 <- forecast::autoplot(ts(dx)) +
  ggplot2::labs(
    title = "Depois: serie diferenciada \u0394X_t = X_t \u2212 X_{t-1}",
    x = "t",
    y = expression(Delta * X[t])
  )

har_ggsave_px(
  har_slide_file(1, 16, "a"),
  p1,
  width_px = TSED_WIDTH,
  height_px = TSED_HEIGHT
)

har_ggsave_px(
  har_slide_file(1, 16, "b"),
  p2,
  width_px = TSED_WIDTH,
  height_px = TSED_HEIGHT
)

har_concat_png(
  out_file = har_slide_file(1, 16),
  files = c(
    har_slide_file(1, 16, "a"),
    har_slide_file(1, 16, "b")
  )
)
```
