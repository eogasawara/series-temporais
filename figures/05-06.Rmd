---
title: "Aula 05 — Slide 06"
output: html_document
---

## Objetivo da figura

Mostrar picos na ACF/PACF em múltiplos do período sazonal (s), reforçando a leitura para identificar componentes sazonais AR/MA.

## Como executar

1. Abra este arquivo no VS Code.
2. Instale os pacotes necessários (se ainda não tiver): `forecast`, `ggplot2`.
3. Execute os chunks (Ctrl+Enter) ou use **Knit**.

## Referência ao PDF

Este código gera as figuras do **Slide 06** do PDF `05-Por-que-Estender-os-Modelos-Lineares.pdf`.

```{r setup, message=FALSE, warning=FALSE}
source("https://raw.githubusercontent.com/eogasawara/series-temporais/main/code/utils.R")
```

```{r fig, message=FALSE, warning=FALSE}
set.seed(5)

# Série sazonal simples (m=12) com ruído moderado
n <- 12 * 10
t <- 1:n
x <- 1.5*sin(2*pi*t/12) + rnorm(n, sd=0.6)
x_ts <- ts(x, frequency = 12)

out_png <- har_slide_file("05", "06")

# ACF/PACF em base R (duas janelas no mesmo PNG)
png(filename = out_png,
    width = TSED_WIDTH, height = TSED_HEIGHT, res = TSED_DPI)

par(mfrow = c(2, 1), mar = c(4, 4, 2, 1))
acf(x_ts, lag.max = 48, main = "ACF: picos em múltiplos de s=12")
abline(v = seq(12, 48, by=12), lty=3)
pacf(x_ts, lag.max = 48, main = "PACF: picos em múltiplos de s=12")
abline(v = seq(12, 48, by=12), lty=3)

dev.off()
message("PNG gerado em: ", out_png)
```
